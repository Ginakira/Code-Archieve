# 指针-基础部分
## 1. 内存与编址
### 内存的概念
内存是用于暂时存放CPU中运算数据的空间，是CPU可以直接寻址的存储空间，一般内存包含随机存储器RAM、只读存储器ROM以及高速缓存CACHE，我们所说的内存大多数情况下指的是RAM，也可以说是运行内存/内存条。
### 内存编址
内存在逻辑上表示，可以将其视为一个个可以储存内容的格子。每个格子都占有一定空间，用于存储数据。而为了可以让CPU直接寻址，也就是找到某些数据存放在哪儿，就要为内存编址。而内存编址，可以理解为为这些格子贴上编号，给房子贴上门牌号等…而每一块内存空间，它的地址是固定的，但其中存储的数据却不固定，就像我们现实生活中的房子，是否住人，住的是谁，并不影响这个房子的现实地址。  

内存编址以字节为单位，内存中的每一个字节都有一个地址编号，每一个地址所指向的这块内存空间大小都为固定的8bit，也就是1B（1字节）。如我们最常用的int整型变量，其大小为4个字节，那么在内存中，一个int变量对应的就是从首地址开始连续4个字节的一段空间。
## 2. 指针的概念
### 实例类比
我们不妨在实际生活中来类比指针这一概念，刚才提到的地址就相当于你的住址，XX号公寓几零几，而住在房子里的你就相当于存储在内存中的数据，那么指针就相当于你的身份证，存储着你的住址。
### 概念与本质
指针，顾名思义，就像指南针、秒针一样，指针可以理解为是用来指向变量的。其实“指向”这个概念较为抽象，它的含义其实是二者之间的某种联系，指针“指向”了变量，那可以说指针在某种程度上可以代表这个变量，但指针并不是这个变量。

但如果你无法理解这种较为抽象的概念，我们可以从另外一个角度来理解指针。所以让我们暂时忘掉“指向”这一概念，来看看指针的本质到底是什么。

指针又或者说指针型变量，也是一种变量，只不过它与普通的变量不同，有一点特殊。变量是用于存储数据的，而指针亦是如此。其他的变量用于存储数字、字符等，而指针则用于存储我们刚刚提到的“地址”，也就是普通变量们的“门牌号”，也就是这些变量在内存中的地址。
	
指针与其他变量相同，也可以被赋值，也可以使用运算符，只不过它与其他变量的使用方式有略微的区别，我们后面会有所说明。
## 3. 指针的定义方法及含义
### 定义方式指针类型
与其他变量相同，定义指针时也需要明确指针所属的类型，如int、char等，对应类型的指针应存储/指向对应类型的变量的地址，如int型的指针应指向一个int型变量，也就是应存储的是int型变量的地址而非其他类型的。就像我们的学生公寓，指针类型就像是男宿舍与女宿舍，我声明了这栋楼为女宿舍，那么就不应让男生入住，与此同理。

指针的定义还需要特殊添加一个符号“*”，用于说明这是一个指针型变量，与普通的变量所区分。

所以指针正确的定义方式应为：
```cpp
int *p; //定义一个名字为p的整型指针
char *abc; //定义一个名字为abc的字符型指针
double *acm; //定义一个名字为acm的双精度型指针
```
### 两个运算符
指针有两个运算符，一个是取地址运算符`&`，一个是间接运算符`*`，也可以将其理解为取值。

取址运算符`&`，它的作用是获取一个变量的内存地址，例如有一个整型变量a，那么&a得到的就是a在内存中的地址，假设我们之前已经通过`int *p`定义了一个整型指针，那我们就可以通过`p = &a`的形式来把a的地址存到指针p中。

间接运算符`*`，当他做用于指针时，它的作用是得到此指针所指向的内存空间中的数据，可以用我们举过的例子理解为：我查你的身份证，知道了你的住址，去了你家找到了你这个人。这就是间接运算符的作用，我们不妨举个例子：

还是用上面的变量a，我赋给a一个初值233，然后我用上面的取址运算符把p指向了a，此时我输出一下`*p`的结果，显示的会是233，也就是获取了p所存储的地址指向的这块空间里面所存储的数据，也就是变量a所属的空间里的数据。
### 野指针
如果指针变量在初始化时未指向一个合法的内存地址，则此指针成为野指针。为避免无法预料的错误发生，我们可以在指针初始化时给指针赋一个无意义的地址，也就是NULL，此时这个指针就是安全的。这个指针没有意义也不指向任何实际位置，NULL即代表0。
## 4. C++中动态管理内存空间（选讲）
### new与delete
在C++中，我们可以通过使用`new`与`delete`两个关键字，来达到对内存实行动态分配的效果。

new，用于动态申请一段内存，new后面应接要申请空间的类型，如`new int`。还可以将申请到的内存地址赋给指针，如`p = new int`；如申请一个数组空间并赋给指针，则可以写成:`p = new int[5]`。

delete，用于释放内存，如`delete p`，此语句将上面申请的内存释放。
### 与malloc的区别
1. new关键字是C++的一部分，使用时无需引入额外的库，而malloc则是stdlib库中提供的函数，使用时必须引入stdlib库。
2. new以具体数据类型为单位进行内存分配，而malloc则以字节为单位进行内存分配。也就是说，使用new申请内存时我们只需关注数据类型，而使用malloc时我们必须计算出实际的字节数。

3. new在申请单个类型变量时可以进行初始化的操作，而malloc不具备初始化特性。
