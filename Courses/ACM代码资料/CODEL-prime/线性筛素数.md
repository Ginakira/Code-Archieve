# 线性筛素数

```c++
bool is_prime[10000001];    // bool型，只有0或1两种
int prime[10000001], cnt = 0;
void getprime(int n) {      // cnt 质数的个数
                            // prime 存的是质数2 3 5 7
                            // is_prime 存的是这个数是不是素数 真就是素数
    memset(is_prime, 1, sizeof(is_prime)); // 这个需要 <cstring>
    is_prime[1] = 0;
    is_prime[0] = 0;
    for (int i = 2; i <= n; i++) {
        if (is_prime[i]) {
            prime[cnt++] = i;
        }
        for (int j = 0; j < cnt && i * prime[j] <= n; j++) {
            is_prime[i * prime[j]] = 0;
            if (i % prime[j] == 0) {
                break;
            }
        }
    }
}
```

## 线性筛素数完整版

```c++
#include<iostream>
#include<cstring>
using namespace std;
bool is_prime[10000001];
int prime[10000001], cnt = 0;        //cnt 质数个数; 
void getprime(int n) {            //prime存的质数2，3，5，7; 
	memset(is_prime, 1, sizeof(is_prime));  //is_prime存的是不是素数,真就是素数; 
	is_prime[1] = 0;
	is_prime[0] = 0;
	for(int i = 2;i <= n;i++) {
		if(is_prime[i]){    //is_prime[2]=1;
			prime[cnt++] = i;
		}
		for(int j = 0;j < cnt && i * prime[j] <= n; j++) {
			is_prime[i*prime[j]] = 0;
			if(i % prime[j] == 0) {
				break;
			}
		}
	}
}
int main() {
	int n;
	cin >> n;
	getprime(n);
	for(int i = 2; i <= n; i++){
		if(is_prime[i]) {
			cout << i << endl;
		}
	}
    return 0;
}

```

